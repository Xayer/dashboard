(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{519:function(e,t,r){var content=r(532);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(16).default)("eb4f1522",content,!0,{sourceMap:!1})},531:function(e,t,r){"use strict";r(519)},532:function(e,t,r){var n=r(15)(!1);n.push([e.i,".error[data-v-7ef8203a]{padding:5px 7px;margin:0;color:var(--danger)}.on[data-v-7ef8203a]{color:var(--success)}.off[data-v-7ef8203a]{color:var(--danger)}",""]),e.exports=n},547:function(e,t,r){"use strict";r.r(t);r(34),r(41),r(36),r(50);var n=r(18),o=r(10),c=r(26),d=r(12),l=r(13),h=r(6),f=r(7),v=(r(20),r(82),r(32),r(72),r(37),r(19)),m=r(47),y=r(11),O=r(87);function A(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var k=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},_=function(e){Object(d.a)(r,e);var t=j(r);function r(){var e;return Object(o.a)(this,r),(e=t.apply(this,arguments)).head={title:"Hue Settings"},e.loading=!1,e.bridgeAddress="",e.bridgeAddressFromInput="",e.bridgeAddressNotFound=!1,e.errorMessage="",e}return Object(c.a)(r,[{key:"created",value:function(){localStorage.getItem(O.a)?(this.bridgeAddressFromInput=localStorage.getItem(O.a),this.bridgeAddressNotFound=!1):this.bridgeAddressNotFound=!0}},{key:"submitBridgeAddress",value:function(){this.errorMessage="",this.bridgeAddressFromInput?(this.bridgeAddress=this.bridgeAddressFromInput,this.registerToken(this.bridgeAddress)):this.errorMessage="no bridge address specified."}},{key:"bridgeAddressChanged",value:function(e){var t=this;e?this.devicesTimeout=setInterval((function(){t.detectDevices()}),3e3):clearInterval(this.devicesTimeout)}},{key:"detectDevices",value:function(){var e=this;this.$store.dispatch("hue/getDevices").catch((function(t){e.errorMessage=t.description}))}},{key:"commitBridgeAddress",value:function(address){this.$store.commit("hue/SET_BRIDGE_ADDRESS",address),this.bridgeAddressNotFound=!1,this.detectDevices()}},{key:"registerToken",value:function(e){var t=this;e&&(this.$store.commit("hue/SET_BRIDGE_ADDRESS",e),this.bridgeAddressNotFound=!1),this.token||(this.loading=!0,alert("go to your Hue Bridge and click the link button (circle). When you have done that, click okay."),this.$store.dispatch("hue/registerToken").then((function(){t.errorMessage="",t.$forceUpdate(),t.loading=!1})).catch((function(e){t.errorMessage=e.description,t.loading=!1})))}},{key:"lightLabel",get:function(){return this.devices&&this.devices.lights?Object.keys(this.devices.lights).length:"No"}}]),r}(v.Vue);k([Object(v.Watch)("bridgeAddressNotFound")],_.prototype,"bridgeAddressChanged",null),k([Object(v.Watch)("bridgeAddress")],_.prototype,"commitBridgeAddress",null);var D=_=k([Object(v.Component)({components:{Button:y.Button},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?A(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):A(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(m.c)({devices:"hue/devices",token:"hue/token",hueAvailable:"hue/available",online:"internet/online"}))})],_),I=(r(531),r(2)),component=Object(I.a)(D,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h4",{attrs:{title:e.hueAvailable?"Connected":"Disconnected"}},[r("i",{staticClass:"bi bi-lightbulb",class:e.hueAvailable&&e.online&&e.token?"on":"off"}),e._v("\n    Hue "+e._s(e.hueAvailable?"Connected":"Disconnected")+"\n  ")]),e._v(" "),e.hueAvailable&&e.token&&e.devices&&e.devices.lights?r("Button",{staticClass:"m-t primary"},[e._v(e._s(e.lightLabel)+" Lights")]):e._e(),e._v(" "),r("span",{staticClass:"m-r"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.bridgeAddressFromInput,expression:"bridgeAddressFromInput"}],attrs:{type:"text",placeholder:"Hue Bridge IP"},domProps:{value:e.bridgeAddressFromInput},on:{input:function(t){t.target.composing||(e.bridgeAddressFromInput=t.target.value)}}})]),e._v(" "),e.hueAvailable&&e.token?e._e():r("Button",{staticClass:"danger",on:{click:function(t){return e.submitBridgeAddress()}}},[e._v("!")]),e._v(" "),e.loading?r("span",{staticClass:"loading"},[e._v("Loading")]):e._e(),e._v(" "),e.errorMessage?r("span",{staticClass:"error",domProps:{textContent:e._s(e.errorMessage)}}):e._e()],1)}),[],!1,null,"7ef8203a",null);t.default=component.exports}}]);