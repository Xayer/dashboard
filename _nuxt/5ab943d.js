(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{541:function(e,t,r){"use strict";r.r(t);var n=r(5),o=(r(51),r(83),r(89),r(31)),c=r(11),l=r(116),v=r(27),time=r(35);var f=Object(o.b)({name:"GithubSettings",components:{Button:c.Button},setup:function(){var e,t,r=Object(o.g)(),c=Object(o.h)(),f=Object(o.a)((function(){return r.value.query.code})),d=Object(o.a)((function(){return r.value.query.state})),h=Object(o.a)((function(){return Object(l.a)()})),j=Object(o.e)(!1),_=Object(o.e)(!1),m=Object(o.e)(""),O={isLoading:(t=Object(v.b)(["".concat(e||"self"),"userInfo"],(function(){return Object(l.d)(e)}),{enabled:!0,staleTime:Object(time.b)(5)})).isLoading,isError:t.isError,isFetching:t.isFetching,data:t.data,error:t.error,refetch:t.refetch},I=O.data,k=O.refetch,S=Object(o.a)((function(){return!!r.value.query.debug}));return Object(o.i)(I,(function(){var e;m.value&&(null===(e=I.value)||void 0===e?void 0:e.id)&&(localStorage.setItem(l.j,JSON.stringify(I.value)),j.value=!0)})),Object(o.d)(Object(n.a)(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if((t=localStorage.getItem(l.i))&&(m.value=t),!f.value||!d.value){e.next=12;break}return localStorage.getItem(l.f)!==d.value?_.value=!1:_.value=!0,localStorage.removeItem(l.f),e.next=9,Object(l.c)(f.value);case 9:(r=e.sent).access_token&&(localStorage.setItem(l.i,r.access_token),j.value=!0,k.value()),c.replace({query:{}});case 12:case"end":return e.stop()}}),e)})))),{authCode:f,authorizationUrl:h,authorizationSuccessful:_,isAuthorized:j,userInfo:I,debugEnabled:S,token:m,refetch:k}},head:{title:"Github Settings"},methods:{clearGithubData:function(){localStorage.removeItem(l.f),localStorage.removeItem(l.i),localStorage.removeItem(l.j)}}}),d=r(2),component=Object(d.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("client-only",[r("div",[e.authCode?r("p",[e._v("Authenticating...")]):e._e(),e._v(" "),e.isAuthorized?e._e():r("a",{attrs:{href:e.authorizationUrl}},[e._v("Login with Github")])]),e._v(" "),e.isAuthorized&&e.userInfo?r("pre",[e._v(e._s(e.userInfo))]):e._e(),e._v(" "),e.debugEnabled?r("pre",[e._v(e._s({userInfo:e.userInfo,token:e.token})+"\n    ")]):e._e(),e._v(" "),r("Button",{on:{click:e.clearGithubData}},[e._v("Clear Data")]),e._v(" "),r("Button",{on:{click:e.refetch}},[e._v("refetch")])],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);